{"componentChunkName":"component---src-templates-post-jsx","path":"/feign-client/","result":{"data":{"site":{"siteMetadata":{"title":"Seokho's Dev"}},"markdownRemark":{"id":"8f11182d-6515-5925-aa77-12b91f24423c","excerpt":"ì„œë¡  í˜„ì¬ ì§„í–‰í•˜ê³  ìˆëŠ” ì‹ë‹¹ ë¦¬ë·° sns í”„ë¡œì íŠ¸ì—ì„œ ìœ ì € ë¡œê·¸ì¸ ê¸°ëŠ¥ì˜ êµ¬í˜„ì„ ë‹´ë‹¹í•˜ê³  ìˆë‹¤. ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ì„ êµ¬í˜„í•˜ë˜ ì¤‘, ì¹´ì¹´ì˜¤ì—ì„œ ì œê³µí•˜ëŠ” apiì— Http ìš”ì²­ì„ ë³´ë‚´ê¸° ìœ„í•´ì„œëŠ” í´ë¼ì´ì–¸íŠ¸ ê°ì²´ë¥¼ ì‚¬ìš©í•´ì•¼í–ˆê³  í”íˆ ì•Œê³  ìˆëŠ” RestTemplateê³¼ WebClientë¥¼ í›„ë³´ì— ë‘ê³  ê³ ë¯¼í•˜ê³  ìˆì—ˆë‹¤.\nê·¸ëŸ¬ë˜ ì¤‘ ì¿ í‚´ì˜ ì†Œê°œë¡œ Feign Clienâ€¦","html":"<h2 id=\"ì„œë¡ \" style=\"position:relative;\"><a href=\"#%EC%84%9C%EB%A1%A0\" aria-label=\"ì„œë¡  permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>ì„œë¡ </h2>\n<p>í˜„ì¬ ì§„í–‰í•˜ê³  ìˆëŠ” <a href=\"https://github.com/jjik-muk/sikdorak\">ì‹ë‹¹ ë¦¬ë·° sns í”„ë¡œì íŠ¸</a>ì—ì„œ ìœ ì € ë¡œê·¸ì¸ ê¸°ëŠ¥ì˜ êµ¬í˜„ì„ ë‹´ë‹¹í•˜ê³  ìˆë‹¤.</p>\n<p>ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ì„ êµ¬í˜„í•˜ë˜ ì¤‘, ì¹´ì¹´ì˜¤ì—ì„œ ì œê³µí•˜ëŠ” apiì— Http ìš”ì²­ì„ ë³´ë‚´ê¸° ìœ„í•´ì„œëŠ” í´ë¼ì´ì–¸íŠ¸ ê°ì²´ë¥¼ ì‚¬ìš©í•´ì•¼í–ˆê³  í”íˆ ì•Œê³  ìˆëŠ” <strong>RestTemplate</strong>ê³¼ <strong>WebClient</strong>ë¥¼ í›„ë³´ì— ë‘ê³  ê³ ë¯¼í•˜ê³  ìˆì—ˆë‹¤.\nê·¸ëŸ¬ë˜ ì¤‘ ì¿ í‚´ì˜ ì†Œê°œë¡œ <strong>Feign Client</strong>ì˜ ì¡´ì¬ë¥¼ ì•Œê²Œ ë˜ì—ˆë‹¤.</p>\n<img src='https://github.com/Seokho-Ham/seokho-ham.github.io/assets/57708971/8099416e-a8ab-4a7a-9dfa-fae7a93db4ac' width='400'>\n<hr>\n<h2 id=\"-Feign-Clientë€\" style=\"position:relative;\"><a href=\"#-Feign-Client%EB%9E%80\" aria-label=\" Feign Clientë€ permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>ğŸ’« Feign Clientë€?</h2>\n<p>Feign Clientë€ Netflixì—ì„œ ê°œë°œí•œ Http Clientë‹¤.<br>\n(HttpClientëŠ” Http ìš”ì²­ì„ ê°„í¸í•˜ê²Œ ë§Œë“¤ì–´ì„œ ë³´ë‚¼ ìˆ˜ ìˆë„ë¡ ë•ëŠ” ê°ì²´ë¼ê³  ìƒê°í•˜ë©´ ë ê²ƒ ê°™ë‹¤.)<br>\nì²˜ìŒì—ëŠ” Netflixì—ì„œ ìì²´ì ìœ¼ë¡œ ê°œë°œì„ ì§„í–‰í–ˆì§€ë§Œ í˜„ì¬ëŠ” ì˜¤í”ˆì†ŒìŠ¤ë¡œ ì „í™˜í–ˆìœ¼ë©° SpringCloud í”„ë ˆì„ì›Œí¬ì˜ í”„ë¡œì íŠ¸ ì¤‘ í•˜ë‚˜ë¡œ ë“¤ì–´ê°€ìˆë‹¤.</p>\n<h3 id=\"ì¥ì \" style=\"position:relative;\"><a href=\"#%EC%9E%A5%EC%A0%90\" aria-label=\"ì¥ì  permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>ì¥ì </h3>\n<ul>\n<li>SpringMvcì—ì„œ ì œê³µë˜ëŠ” ì–´ë…¸í…Œì´ì…˜ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. (Spring Cloudì˜ starter-openfeignì„ ì‚¬ìš©í•  ê²½ìš°)</li>\n<li>RestTemplate ë³´ë‹¤ ê°„í¸í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë©° ê°€ë…ì„±ì´ ì¢‹ë‹¤.</li>\n<li>Feign Clientë¥¼ ì‚¬ìš©í•œ í†µí•© í…ŒìŠ¤íŠ¸ê°€ ë¹„êµì  ê°„í¸í•˜ë‹¤.</li>\n<li>ìš”ì²­ì— ëŒ€í•œ ì»¤ìŠ¤í…€ì´ ê°„í¸í•˜ë‹¤.<br>\nex) ìš”ì²­ì´ ì‹¤íŒ¨í–ˆì„ë•Œ ëª‡ì´ˆ ê°„ê²©ìœ¼ë¡œ ëª‡ë²ˆ ì¬ìš”ì²­ì„ ë³´ë‚¼ê²ƒì¸ì§€ë¥¼ êµ¬ì²´ì ìœ¼ë¡œ ì •í•  ìˆ˜ ìˆë‹¤.</li>\n</ul>\n<h3 id=\"ë‹¨ì \" style=\"position:relative;\"><a href=\"#%EB%8B%A8%EC%A0%90\" aria-label=\"ë‹¨ì  permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>ë‹¨ì </h3>\n<ul>\n<li>ë™ê¸°ì ìœ¼ë¡œ ë™ì‘í•œë‹¤. ì¦‰, í•˜ë‚˜ì˜ ìš”ì²­ì´ ëë‚˜ì•¼ ë‹¤ìŒ ë™ì‘ì´ ê°€ëŠ¥í•˜ë‹¤.<br>\n(ì´ê±´ ë¹„ë™ê¸°ì ìœ¼ë¡œ ë™ì‘í•´ì•¼í•˜ëŠ” ê²½ìš° ë‹¨ì ì´ ë  ìˆ˜ ìˆì„ê²ƒ ê°™ë‹¤.)</li>\n</ul>\n<blockquote>\n<p><strong>ìš°ë¦¬ ì„œë¹„ìŠ¤ì—ì„œëŠ” ì‚¬ìš©ì ë¡œê·¸ì¸ APIì—ì„œë§Œ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ë¹„ë™ê¸°ê°€ ì§€ì›ë  í•„ìš”ê°€ ì—†ë‹¤ê³  íŒë‹¨í–ˆê³ <br>\nFeign Clientë¥¼ ë„ì…í•´ë³´ê¸°ë¡œ ê²°ì •í–ˆë‹¤.</strong></p>\n</blockquote>\n<hr>\n<h2 id=\"-í”„ë¡œì íŠ¸ì—-ì ìš©\" style=\"position:relative;\"><a href=\"#-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8%EC%97%90-%EC%A0%81%EC%9A%A9\" aria-label=\" í”„ë¡œì íŠ¸ì— ì ìš© permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>ğŸ’« í”„ë¡œì íŠ¸ì— ì ìš©</h2>\n<p>FeignClientë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ë¨¼ì € build.gradleì— ê´€ë ¨ ì˜ì¡´ì„±ì„ ì¶”ê°€í–ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token comment\">//í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©í•œ ë²„ì „ ì •ë³´</span>\nspring<span class=\"token operator\">-</span>boot <span class=\"token operator\">:</span> <span class=\"token number\">2.7</span><span class=\"token number\">.1</span>\nspring<span class=\"token operator\">-</span>cloud <span class=\"token operator\">:</span> <span class=\"token number\">2021.0</span><span class=\"token number\">.3</span>\nspring<span class=\"token operator\">-</span>cloud<span class=\"token operator\">-</span>openfeign <span class=\"token operator\">:</span> <span class=\"token number\">3.1</span><span class=\"token number\">.3</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">ext <span class=\"token punctuation\">{</span>\n\tspringCloudVersion <span class=\"token operator\">=</span> '<span class=\"token number\">2021.0</span><span class=\"token number\">.3</span>'\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">//...</span>\n\ndependencyManagement <span class=\"token punctuation\">{</span>\n\timports <span class=\"token punctuation\">{</span>\n\t\tmavenBom <span class=\"token string\">\"org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}\"</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">//...</span>\ndependencies <span class=\"token punctuation\">{</span>\n\timplementation 'org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>cloud<span class=\"token operator\">:</span>spring<span class=\"token operator\">-</span>cloud<span class=\"token operator\">-</span>starter<span class=\"token operator\">-</span>openfeign'\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li><strong>ext</strong> : gradle ë‚´ì—ì„œ ì‚¬ìš©í•  ë³€ìˆ˜ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆë‹¤. ì—¬ê¸°ì„œëŠ” springCloudVersionì„ ë³€ìˆ˜ë¡œ ê´€ë¦¬í•˜ë„ë¡ í–ˆë‹¤.</li>\n<li><strong>dependencyManagement</strong> : ì‚¬ìš©í•  ì˜ì¡´ì„±ì˜ ë²„ì „ì„ ëª…ì‹œí•´ë‘ë©´ dependenciesì—ì„œ ì‹¤ì œ ì˜ì¡´ì„±ì„ ì‘ì„±í• ë•Œ ë²„ì „ì„ ë”°ë¡œ ì‘ì„±í•˜ì§€ ì•Šì•„ë„ ìœ„ì— ëª…ì‹œëœ ë²„ì „ìœ¼ë¡œ ê°€ì ¸ì˜¨ë‹¤.</li>\n</ul>\n<p>ì˜ì¡´ì„±ì„ ê°€ì ¸ì˜¨ ë’¤ Feign Clientë¥¼ ì‚¬ìš©í•˜ì—¬ API í˜¸ì¶œì„ ë‹´ë‹¹í•  í´ë¼ì´ì–¸íŠ¸ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§Œë“¤ì—ˆë‹¤.<br>\në§Œë“œëŠ” ë°©ë²•ì€ ê°„ë‹¨í•œë° í´ë¼ì´ì–¸íŠ¸ë¥¼ ì¸í„°í˜ì´ìŠ¤ë¡œ ë§Œë“¤ê³  ë‚´ë¶€ì— í˜¸ì¶œí•  ë©”ì„œë“œë§Œ ì‘ì„±í•˜ë©´ ëœë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token comment\">//FeignClientë¥¼ ì‚¬ìš©í•œ ì½”ë“œ</span>\n\n<span class=\"token annotation punctuation\">@FeignClient</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">=</span> <span class=\"token string\">\"oauth-token-client\"</span><span class=\"token punctuation\">,</span> url <span class=\"token operator\">=</span> <span class=\"token string\">\"https://oauth-server.com\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">OAuthTokenClient</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@PostMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/oauth/token\"</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token class-name\">OAuthTokenResponse</span> <span class=\"token function\">getAccessToken</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@RequestParam</span><span class=\"token punctuation\">(</span>value <span class=\"token operator\">=</span> <span class=\"token string\">\"grant_type\"</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">String</span> grantType<span class=\"token punctuation\">,</span>\n                                      <span class=\"token annotation punctuation\">@RequestParam</span><span class=\"token punctuation\">(</span>value <span class=\"token operator\">=</span> <span class=\"token string\">\"client_id\"</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">String</span> clientId<span class=\"token punctuation\">,</span>\n                                      <span class=\"token annotation punctuation\">@RequestParam</span><span class=\"token punctuation\">(</span>value <span class=\"token operator\">=</span> <span class=\"token string\">\"redirect_uri\"</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">String</span> redirectUri<span class=\"token punctuation\">,</span>\n                                      <span class=\"token annotation punctuation\">@RequestParam</span><span class=\"token punctuation\">(</span>value <span class=\"token operator\">=</span> <span class=\"token string\">\"code\"</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">String</span> code<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>\n<p><strong>@FeignClient</strong> : ì•±ì´ ëŸ°íƒ€ì„ ì‹œ í•´ë‹¹ ì–´ë…¸í…Œì´ì…˜ì´ ë¶™ì€ ì¸í„°í˜ì´ìŠ¤ë¥¼ í† ëŒ€ë¡œ ì‹¤ì œ êµ¬í˜„ì²´ë¥¼ ë§Œë“ ë‹¤.</p>\n<ul>\n<li>name : ì‹¤ì œ êµ¬í˜„ì²´ê°€ Application Contextì— ë¹ˆìœ¼ë¡œ ë“±ë¡ë ë•Œ ì´ë¦„ìœ¼ë¡œ ì‚¬ìš©ëœë‹¤.</li>\n<li>url : ìš”ì²­ì„ ë³´ë‚¼ ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì˜ë¯¸í•œë‹¤.</li>\n</ul>\n</li>\n<li><strong>@PostMapping</strong> : í•´ë‹¹ HttpMethodë¡œ ìš”ì²­ì„ ì „ì†¡í•œë‹¤.</li>\n<li>\n<p><strong>@RequestParam</strong> : ìš”ì²­ ì‹œ í•¨ê»˜ ë³´ë‚¼ íŒŒë¼ë¯¸í„°ë“¤ ì„¤ì •í•œë‹¤.</p>\n<ul>\n<li>ë©”ì„œë“œì˜ íŒŒë¼ë¯¸í„°ì— @RequestParam, @RequestHeader ë“±ì˜ ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë©´ ê¸°ë³¸ì ìœ¼ë¡œ ìš”ì²­ì˜ Bodyì— íŒŒë¦¬ë¯¸í„°ì˜ ê°’ë“¤ì´ ë“¤ì–´ê°„ë‹¤.</li>\n</ul>\n</li>\n</ul>\n<p>ì½”ë“œë¥¼ ì‘ì„±í•˜ê³ ë‚˜ë‹ˆ ì˜ë¬¸ì´ ìƒê²¼ë‹¤.</p>\n<blockquote>\n<p><strong>ì–´ë–»ê²Œ SpringMvcì˜ ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”ê±¸ê¹Œ?</strong></p>\n</blockquote>\n<p>ì°¾ì•„ë³´ë‹ˆ FeignClientëŠ” ë¹ˆìœ¼ë¡œ ìƒì„±ë  ë•Œ ì„¤ì •ëœ configuration ì„ ì½ì–´ì„œ ìƒì„±ë˜ëŠ”ë° configuration ë‚´ë¶€ì—ëŠ”<br>\nClient ìƒì„± ì‹œ ì‚¬ìš©í•  Decoder, Encoder, Logger, Contract ë“±ì„ ë¹ˆìœ¼ë¡œ ë“±ë¡í•˜ëŠ” ì½”ë“œê°€ ë‹´ê²¨ìˆì—ˆë‹¤.</p>\n<p>ì´ë•Œ Clientì— ë”°ë¡œ Configuration ì„¤ì •ì„ í•´ì£¼ì§€ ì•Šìœ¼ë©´ ë””í´íŠ¸ì¸ <strong>FeignClientsConfiguration</strong> ë¥¼ ì‚¬ìš©í•´ì„œ ìƒì„±í•˜ëŠ”ë° defaultë¡œ ì ìš©ëœ ContractëŠ” SpringMvcContractì˜€ê³  ë•ë¶„ì— SpringMvcì˜ ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•  ìˆ˜ ìˆì—ˆë‹¤.</p>\n<img src='https://github.com/Seokho-Ham/seokho-ham.github.io/assets/57708971/70687782-c66c-4412-80a9-e8b3126a1e45' width='1000'>\n<ul>\n<li>decoder, encoder, loggerë„ ëª¨ë‘ Springì´ ì‚¬ìš©í•˜ëŠ” ê°ì²´ë“¤ì„ ì‚¬ìš©í•˜ë„ë¡ ë˜ì–´ìˆë‹¤.</li>\n</ul>\n<img src='https://github.com/Seokho-Ham/seokho-ham.github.io/assets/57708971/317c2534-6f7c-46b2-9d71-53731eaed5bb' width='600'>\n<p>ì´í›„ ì„œë¹„ìŠ¤ì˜ ë¡œì§ì—ì„œëŠ” ë§Œë“  í´ë¼ì´ì–¸íŠ¸ ê°ì²´ë¥¼ ë¹ˆìœ¼ë¡œ ì£¼ì…ë°›ì•„ ì‚¬ìš©í–ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Service</span>\n<span class=\"token annotation punctuation\">@RequiredArgsConstructor</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">OAuthService</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">OAuthTokenClient</span> oAuthTokenClient<span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">//...</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">JwtToken</span> <span class=\"token function\">login</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> code<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">OAuthTokenResponse</span> oAuthTokenResponse <span class=\"token operator\">=</span> <span class=\"token function\">getOAuthAccessToken</span><span class=\"token punctuation\">(</span>code<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">//...</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">OAuthTokenResponse</span> <span class=\"token function\">getOAuthAccessToken</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> code<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> oAuthTokenClient<span class=\"token punctuation\">.</span><span class=\"token function\">getAccessToken</span><span class=\"token punctuation\">(</span>\n                oAuthProperties<span class=\"token punctuation\">.</span><span class=\"token function\">getGrantType</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                oAuthProperties<span class=\"token punctuation\">.</span><span class=\"token function\">getClientId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                oAuthProperties<span class=\"token punctuation\">.</span><span class=\"token function\">getRedirectUri</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                code<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>FeignClientëŠ” SpringBootApplicationì´ ì‹¤í–‰ë ë•Œ @FeignClient ì–´ë…¸í…Œì´ì…˜ì´ ë¶™ì€ íŒŒì¼ë“¤ì„ ì½ì–´ì„œ êµ¬í˜„ì²´ë¥¼ ë§Œë“¤ê¸° ë•Œë¬¸ì— ì•± êµ¬ë™ì‹œ ì–´ë…¸í…Œì´ì…˜ì„ ì½ì„ ìˆ˜ ìˆê²Œ @EnableFeignClients ì–´ë…¸í…Œì´ì…˜ì„ ë¶™ì—¬ì£¼ì—ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@SpringBootApplication</span>\n<span class=\"token annotation punctuation\">@EnableFeignClients</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Application</span> <span class=\"token punctuation\">{</span>\n\n\t<span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token class-name\">SpringApplication</span><span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Application</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì•„ë˜ëŠ” ìœ„ì˜ ì„¤ì •ì„ ë§ˆì¹˜ê³  ì‹¤ì œ OAuth ì„œë²„ë¡œ ìš”ì²­ì„ ë³´ëƒˆì„ë•Œì˜ ìš”ì²­/ì‘ë‹µ ë¡œê·¸ë‹¤.<br>\ní•´ë‹¹ ë¡œê·¸ê°€ ì¶œë ¥ë˜ë ¤ë©´ í”„ë¡œì íŠ¸ì˜ ë¡œê¹… ë ˆë²¨ì€ DEBUG ë¡œ, FeignClientì˜ ë¡œê¹… ë ˆë²¨ì€ FULLë¡œ ì„¤ì •ë˜ì–´ ìˆì–´ì•¼ í•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token comment\">//application.yml</span>\nlogging<span class=\"token operator\">:</span>\n  level<span class=\"token operator\">:</span>\n    com<span class=\"token punctuation\">.</span>project<span class=\"token operator\">:</span> debug\n\nfeign<span class=\"token operator\">:</span>\n  client<span class=\"token operator\">:</span>\n    config<span class=\"token operator\">:</span>\n      <span class=\"token keyword\">default</span><span class=\"token operator\">:</span>\n        loggerLevel<span class=\"token operator\">:</span> <span class=\"token constant\">FULL</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token comment\">//ìš”ì²­</span>\n---> POST http<span class=\"token operator\">:</span><span class=\"token comment\">//oauth-server/oauth/token?grant_type=authorization_code&amp;client_id=1234&amp;redirect_uri=redirectUri&amp;code=code HTTP/1.1</span>\nContent-Type<span class=\"token operator\">:</span> application/x-www-form-urlencoded;charset=utf<span class=\"token number\">-8</span>\n---> END HTTP (<span class=\"token number\">0</span>-byte body)\n\n<span class=\"token comment\">// ì‘ë‹µ</span>\n&lt;--- HTTP/<span class=\"token number\">1.1</span> <span class=\"token number\">200</span> OK (131ms)\naccess-control-allow-headers<span class=\"token operator\">:</span> Authorization<span class=\"token punctuation\">,</span> KA<span class=\"token punctuation\">,</span> Origin<span class=\"token punctuation\">,</span> X-Requested-With<span class=\"token punctuation\">,</span> Content-Type<span class=\"token punctuation\">,</span> Accept\naccess-control-allow-methods<span class=\"token operator\">:</span> GET<span class=\"token punctuation\">,</span> POST<span class=\"token punctuation\">,</span> OPTIONS\naccess-control-allow-origin<span class=\"token operator\">:</span> *\ncache-control<span class=\"token operator\">:</span> no-cache<span class=\"token punctuation\">,</span> no-store<span class=\"token punctuation\">,</span> max-age=<span class=\"token number\">0</span><span class=\"token punctuation\">,</span> must-revalidate\nconnection<span class=\"token operator\">:</span> keep-alive\ncontent-type<span class=\"token operator\">:</span> application/json;charset=utf<span class=\"token number\">-8</span>\ndate<span class=\"token operator\">:</span> Sat<span class=\"token punctuation\">,</span> <span class=\"token number\">13</span> Aug <span class=\"token number\">2022</span> <span class=\"token number\">02</span><span class=\"token operator\">:</span><span class=\"token number\">48</span><span class=\"token operator\">:</span><span class=\"token number\">13</span> GMT\nexpires<span class=\"token operator\">:</span> <span class=\"token number\">0</span>\ntransfer-encoding<span class=\"token operator\">:</span> chunked\nx-content-type-options<span class=\"token operator\">:</span> nosniff\nx-frame-options<span class=\"token operator\">:</span> DENY\nx-xss-protection<span class=\"token operator\">:</span> <span class=\"token number\">1</span>; mode=block\nresponse-body<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"token_type\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"bearer\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"access_token\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"accessToken\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"expires_in\"</span><span class=\"token operator\">:</span><span class=\"token number\">43199</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"refresh_token\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"refreshToken\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"refresh_token_expires_in\"</span><span class=\"token operator\">:</span><span class=\"token number\">25184000</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"scope\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"account_email profile\"</span>\n<span class=\"token punctuation\">}</span>\n&lt;--- END HTTP (<span class=\"token number\">190</span>-byte body)</code></pre></div>\n<p>ì•„ë˜ëŠ” ì¶”ê°€ì ìœ¼ë¡œ í•´ì¤€ ì„¤ì •ë“¤ì´ë‹¤.</p>\n<h2 id=\"-ì»¤ìŠ¤í…€í•œ-Configuration-ì„¤ì •\" style=\"position:relative;\"><a href=\"#-%EC%BB%A4%EC%8A%A4%ED%85%80%ED%95%9C-Configuration-%EC%84%A4%EC%A0%95\" aria-label=\" ì»¤ìŠ¤í…€í•œ Configuration ì„¤ì • permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>ğŸ›  ì»¤ìŠ¤í…€í•œ Configuration ì„¤ì •</h2>\n<h3 id=\"1-ê³µí†µ-í—¤ë”ì ìš©ì„-ìœ„í•œ-Configuration\" style=\"position:relative;\"><a href=\"#1-%EA%B3%B5%ED%86%B5-%ED%97%A4%EB%8D%94%EC%A0%81%EC%9A%A9%EC%9D%84-%EC%9C%84%ED%95%9C-Configuration\" aria-label=\"1 ê³µí†µ í—¤ë”ì ìš©ì„ ìœ„í•œ Configuration permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>1. ê³µí†µ í—¤ë”ì ìš©ì„ ìœ„í•œ Configuration</h3>\n<ul>\n<li>ìš”ì²­ì— content-type í—¤ë”ê°€ ê¸°ë³¸ì ìœ¼ë¡œ í•„ìš”í•´ì„œ configuration íŒŒì¼ì„ ë§Œë“¤ì—ˆê³  Client ê°ì²´ì— ì ìš©í–ˆë‹¤.</li>\n<li>ìš”ì²­ì„ ê°€ë¡œì±„ì„œ í—¤ë”ë¥¼ ì„¸íŒ…í•˜ëŠ” requestInterceptorë¥¼ ë¹ˆìœ¼ë¡œ ë“±ë¡í•˜ë©´ ëœë‹¤.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">FeignClientHeaderConfiguration</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> <span class=\"token constant\">APPLICATION_FORM_URLENCODED_UTF8_VALUE</span> <span class=\"token operator\">=</span>\n        <span class=\"token class-name\">MediaType</span><span class=\"token punctuation\">.</span><span class=\"token constant\">APPLICATION_FORM_URLENCODED_VALUE</span> <span class=\"token operator\">+</span> <span class=\"token string\">\";charset=utf-8\"</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@Bean</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">RequestInterceptor</span> <span class=\"token function\">requestInterceptor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> requestTemplate <span class=\"token operator\">-></span> requestTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">header</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpHeaders</span><span class=\"token punctuation\">.</span><span class=\"token constant\">CONTENT_TYPE</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">APPLICATION_FORM_URLENCODED_UTF8_VALUE</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"2-FeignClient-Exceptionì„-ì„œë¹„ìŠ¤-ì˜ˆì™¸ë¡œ-ì²˜ë¦¬í•˜ê¸°-ìœ„í•œ-Configuration\" style=\"position:relative;\"><a href=\"#2-FeignClient-Exception%EC%9D%84-%EC%84%9C%EB%B9%84%EC%8A%A4-%EC%98%88%EC%99%B8%EB%A1%9C-%EC%B2%98%EB%A6%AC%ED%95%98%EA%B8%B0-%EC%9C%84%ED%95%9C-Configuration\" aria-label=\"2 FeignClient Exceptionì„ ì„œë¹„ìŠ¤ ì˜ˆì™¸ë¡œ ì²˜ë¦¬í•˜ê¸° ìœ„í•œ Configuration permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>2. FeignClient Exceptionì„ ì„œë¹„ìŠ¤ ì˜ˆì™¸ë¡œ ì²˜ë¦¬í•˜ê¸° ìœ„í•œ Configuration</h3>\n<ul>\n<li>Feign Clientë¥¼ í†µí•œ ìš”ì²­ì´ ì‹¤íŒ¨í–ˆì„ ê²½ìš° OAuthServerì—ì„œì˜ ì˜ˆì™¸ê°€ ë°œìƒí–ˆë‹¤ëŠ” ë©”ì„¸ì§€ë¥¼ ì‚¬ìš©ìì—ê²Œ ì „ë‹¬í•˜ê³  ì‹¶ì—ˆê³ , ì»¤ìŠ¤í…€í•œ ErrorDecoderë¥¼ ë¹ˆìœ¼ë¡œ ë“±ë¡í•˜ëŠ” configurationì„ Client ê°ì²´ì— ì ìš©í–ˆë‹¤.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Slf4j</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">FeignClientOAuthErrorConfiguration</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@Bean</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">ErrorDecoder</span> <span class=\"token function\">decoder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>methodKey<span class=\"token punctuation\">,</span> response<span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token punctuation\">{</span>\n            log<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"{} ìš”ì²­ì´ ì„±ê³µí•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. requestUrl: {}, requestBody: {}, responseBody: {}\"</span><span class=\"token punctuation\">,</span>\n                    methodKey<span class=\"token punctuation\">,</span> response<span class=\"token punctuation\">.</span><span class=\"token function\">request</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">url</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">FeignClientResponseUtils</span><span class=\"token punctuation\">.</span><span class=\"token function\">getRequestBody</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">FeignClientResponseUtils</span><span class=\"token punctuation\">.</span><span class=\"token function\">getResponseBody</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">OAuthServerException</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>ìœ„ì˜ Configurationë“¤ì„ ì ìš©í•œ ì½”ë“œ</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token comment\">//ì ìš©</span>\n<span class=\"token annotation punctuation\">@FeignClient</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">=</span> <span class=\"token string\">\"oauth-token-client\"</span><span class=\"token punctuation\">,</span> url <span class=\"token operator\">=</span> <span class=\"token string\">\"oauth-server\"</span><span class=\"token punctuation\">,</span> configuration <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token class-name\">FeignClientHeaderConfiguration</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">FeignClientOAuthErrorConfiguration</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">OAuthTokenClient</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> <span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì´ë•Œ ì£¼ì˜í•  ì ìœ¼ë¡œëŠ” configuration íŒŒì¼ì— <strong>@Configuration ì–´ë…¸í…Œì´ì…˜ì„ ë¶™ì´ëŠ”ê²ƒì„ ì§€ì–‘</strong>í•´ì•¼í•œë‹¤.\ní•´ë‹¹ ì–´ë…¸í…Œì´ì…˜ì„ ë¶™ì´ê²Œ ë˜ë©´ ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ì´ ë°œìƒí•˜ëŠ” ì‹œì ì— ë¹ˆìœ¼ë¡œ ë“±ë¡ë˜ì–´ ëª¨ë“  FeignClientì— ì ìš©ëœë‹¤.</p>\n<ul>\n<li>í˜„ì¬ ì„œë¹„ìŠ¤ì—ì„œëŠ” ëª¨ë“  ìš”ì²­ì— ëŒ€í•´ ì ìš©í•  decoderë¼ì„œ ì–´ë…¸í…Œì´ì…˜ì„ ë¶™ì¼ê¹Œ ê³ ë¯¼í–ˆì§€ë§Œ ë³€ê²½ì‚¬í•­ì´ ë°œìƒí•  ìˆ˜ ìˆê¸°ì— ì§ì ‘ configurationì„ ì„¤ì •í•´ì¤¬ë‹¤.</li>\n</ul>\n<h3 id=\"3-urlì„-applicationpropertiesì—ì„œ-ê´€ë¦¬-í›„-ì ìš©\" style=\"position:relative;\"><a href=\"#3-url%EC%9D%84-applicationproperties%EC%97%90%EC%84%9C-%EA%B4%80%EB%A6%AC-%ED%9B%84-%EC%A0%81%EC%9A%A9\" aria-label=\"3 urlì„ applicationpropertiesì—ì„œ ê´€ë¦¬ í›„ ì ìš© permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>3. urlì„ application.propertiesì—ì„œ ê´€ë¦¬ í›„ ì ìš©</h3>\n<p>urlì„ í•˜ë“œì½”ë”© í•˜ê¸°ë³´ë‹¤ëŠ” í”„ë¡œí¼í‹°ì—ì„œ ê´€ë¦¬í•˜ëŠ”ê²ƒì´ ë³€ê²½ì´ ë°œìƒí–ˆì„ë•Œ ë³€ê²½ì‚¬í•­ì„ ì ìš©í•˜ê¸° í¸ë¦¬í•˜ë‹¤.</p>\n<p>ì•„ë˜ì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ì‘ì„±í•˜ë©´ application.propertiesì—ì„œ í•´ë‹¹ í”„ë¡œí¼í‹°ë¥¼ ì½ì–´ì˜¨ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@FeignClient</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">=</span> <span class=\"token string\">\"token-client\"</span><span class=\"token punctuation\">,</span> url <span class=\"token operator\">=</span> <span class=\"token string\">\"${oauth.kakao.service.token_url}\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">OAuthTokenClient</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> <span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"-ë§ˆë¬´ë¦¬\" style=\"position:relative;\"><a href=\"#-%EB%A7%88%EB%AC%B4%EB%A6%AC\" aria-label=\" ë§ˆë¬´ë¦¬ permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>ğŸ’« ë§ˆë¬´ë¦¬</h2>\n<p>ì´ë²ˆì— FeignClientë¥¼ ì–´ë…¸í…Œì´ì…˜ë§Œìœ¼ë¡œ ìš”ì²­ì— í•„ìš”í•œ ëª¨ë“  ì„¤ì •ì„ ë§ˆì¹  ìˆ˜ ìˆë‹¤ëŠ” ì ì—ì„œ ì´ì „ì— RestTemplate, WebClientë¥¼ ì‚¬ìš©í–ˆì„ë•Œì™€ ë¹„êµí•´ ë„ˆë¬´ ê°„í¸í•˜ë‹¤ëŠ” ëŠë‚Œì„ ë°›ì•˜ë‹¤.\në¬¼ë¡  ì¶”ê°€ì ì¸ ì„¤ì • ì—†ì´ëŠ” ë¹„ë™ê¸°ì ìœ¼ë¡œ ë™ì‘í•˜ì§€ ì•Šê¸°ì— WebClientë¥¼ ëŒ€ì²´í•  ìˆ˜ëŠ” ì—†ì§€ë§Œ íŠ¹ë³„íˆ ë¹„ë™ê¸°ì ì¸ ë™ì‘ì´ í•„ìš”ì—†ë‹¤ë©´ FeignClientë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì„ê¹Œ ì‹¶ë‹¤.</p>\n<p>ë˜í•œ WireMockì„ í•¨ê»˜ ì‚¬ìš©í•˜ë©´ í…ŒìŠ¤íŠ¸ë„ ì‰½ê²Œ í•  ìˆ˜ ìˆëŠ”ë° ì´ ë‚´ìš©ì€ ë‹¤ìŒ ê¸€ì—ì„œ ì´ì–´ì„œ ì‘ì„±í•˜ë ¤ê³  í•œë‹¤.</p>","frontmatter":{"title":"í”„ë¡œì íŠ¸ì— Feign Clientë¥¼ ì ìš©í•´ë³´ì","date":"August 13, 2022","update":null,"tags":["project","spring"],"series":"ì‹ë„ë½ í”„ë¡œì íŠ¸ ê°œë°œê¸°"},"fields":{"slug":"/feign-client/","readingTime":{"minutes":10.435}}},"seriesList":{"edges":[{"node":{"id":"8f11182d-6515-5925-aa77-12b91f24423c","fields":{"slug":"/feign-client/"},"frontmatter":{"title":"í”„ë¡œì íŠ¸ì— Feign Clientë¥¼ ì ìš©í•´ë³´ì"}}},{"node":{"id":"7fc36caa-34d5-5cfc-97ee-ad38240a5639","fields":{"slug":"/wiremock/"},"frontmatter":{"title":"í…ŒìŠ¤íŠ¸ì—ì„œ Wiremockì„ ì´ìš©í•´ì„œ ì™¸ë¶€ ì˜ì¡´ì„± ì¤„ì´ê¸°"}}},{"node":{"id":"9d3185ca-d585-51ce-a6ce-ff5920cbcb96","fields":{"slug":"/offset-nooffest/"},"frontmatter":{"title":"offsetê³¼ no offsetì„ ì‚¬ìš©í•œ í˜ì´ì§• ì„±ëŠ¥ ì°¨ì´ ë¶„ì„"}}},{"node":{"id":"ba095530-9598-5162-ab5c-a38f1435c4b6","fields":{"slug":"/oauth-refactoring/"},"frontmatter":{"title":"ì—¬ëŸ¬ í”Œë«í¼ì— ëŒ€ì‘í•  ìˆ˜ ìˆëŠ” OAuth ì½”ë“œë¡œ ê°œì„ í•˜ê¸°"}}}]},"previous":{"fields":{"slug":"/codesquad/"},"frontmatter":{"title":"2022ë…„ ì½”ë“œìŠ¤ì¿¼ë“œ íšŒê³ "}},"next":{"fields":{"slug":"/wiremock/"},"frontmatter":{"title":"í…ŒìŠ¤íŠ¸ì—ì„œ Wiremockì„ ì´ìš©í•´ì„œ ì™¸ë¶€ ì˜ì¡´ì„± ì¤„ì´ê¸°"}}},"pageContext":{"id":"8f11182d-6515-5925-aa77-12b91f24423c","series":"ì‹ë„ë½ í”„ë¡œì íŠ¸ ê°œë°œê¸°","previousPostId":"332076a5-e3ab-50c3-8d58-d10b0b5cd5b3","nextPostId":"7fc36caa-34d5-5cfc-97ee-ad38240a5639"}},"staticQueryHashes":[],"slicesMap":{}}